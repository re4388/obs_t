[[CS186 Introduction to Database System]]


![[IMG-186_04.5_Disk Representations Files, Pages, Records-20241003104933630.png|833]]


可以想成, like sqlite, db 就是一個 file

file 裡面有 pages
每一個 page 裡面有 records


- **DB FILE**: A collection of pages, each containing a collection of records.
- API for higher layers of the DBMS:
	- Insert/delete/modify record
	- Fetch a particular record by **_record id_** …
		- Record id is a pointer encoding pair of (**pageID, location** on page)
	- Scan all records 
		- Possibly with some conditions on the records to be retrieved
- Could span multiple OS files and even machines
	- Or “raw” disk devices



有好幾種 File 類型
![[IMG-186_04.5_Disk Representations Files, Pages, Records-20241003104948742.png]]



![[IMG-186_04.5_Disk Representations Files, Pages, Records-20241003105000229.png|757]]



**Page Layout**

Page Basics: The Header
- Header may contain:
	- Number of records
	- Free space
	- Maybe a next/last pointer
	- Bitmaps, Slot Table

Options for Page Layouts
- Depends on
	- Record length (fixed or variable)
	- Page packing (packed or unpacked)