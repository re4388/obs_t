非静态成员类（Non-static Nested Class）在 Java 中是指定义在另一个类内部的类，并且它与外部类的实例相关联。
非静态成员类的一个常见用途是作为适配器（Adapter），使得外部类的实例能够被视为某个不相关类的实例。

这种设计模式在 Java 的集合框架中得到了广泛应用，尤其是在实现 `Map` 接口的集合视图时。

### 非静态成员类的特性
1. **与外部类实例关联**：
    - 非静态成员类的实例与外部类的实例相关联，因此可以直接访问外部类的实例变量和方法。
2. **可以访问外部类的私有成员**：
    - 非静态成员类可以访问外部类的所有成员，包括私有成员。
3. **需要外部类的实例来创建**：
    - 创建非静态成员类的实例时，必须先有外部类的实例。


### 示例：使用非静态成员类实现适配器

以下是一个示例，展示如何使用非静态成员类来实现一个简单的适配器，使得外部类的实例能够被视为某个不相关类的实例。
```java
import java.util.*;

public class MyMap {
    private final Map<String, Integer> map = new HashMap<>();

    // 添加键值对
    public void put(String key, Integer value) {
        map.put(key, value);
    }

    // 非静态成员类，作为 Map 的集合视图
    public class EntrySet extends AbstractSet<Map.Entry<String, Integer>> {
        @Override
        public Iterator<Map.Entry<String, Integer>> iterator() {
        
            return new Iterator<Map.Entry<String, Integer>>() {
                private final Iterator<Map.Entry<String, Integer>> iterator = map.entrySet().iterator();

                @Override
                public boolean hasNext() {
                    return iterator.hasNext();
                }

                @Override
                public Map.Entry<String, Integer> next() {
                    return iterator.next();
                }
            };
            
        }

        @Override
        public int size() {
            return map.size();
        }
    }

    // 返回 EntrySet 的实例
    public Set<Map.Entry<String, Integer>> entrySet() {
        return new EntrySet();
    }

    public static void main(String[] args) {
        MyMap myMap = new MyMap();
        myMap.put("One", 1);
        myMap.put("Two", 2);
        myMap.put("Three", 3);

        // 获取 EntrySet 并打印
        Set<Map.Entry<String, Integer>> entrySet = myMap.entrySet();
        for (Map.Entry<String, Integer> entry : entrySet) {
            System.out.println(entry.getKey() + ": " + entry.getValue());
        }
    }
}
```


### 代码解释

1. **外部类 `MyMap`**：
    - 这是一个简单的映射类，内部使用 `HashMap` 存储键值对。
2. **非静态成员类 `EntrySet`**：
    - `EntrySet` 继承自 `AbstractSet`，实现了 `Map` 的集合视图。
    - 它重写了 `iterator` 方法，返回一个迭代器，用于遍历 `map` 的条目。
    - 还重写了 `size` 方法，返回 `map` 的大小。
3. **`entrySet` 方法**：
    - 该方法返回 `EntrySet` 的实例，使得外部类的实例可以通过 `entrySet` 方法获取到 `Map` 的条目集合视图。
4. **主方法**：
    - 在 `main` 方法中，创建 `MyMap` 的实例，添加一些键值对，并获取 `EntrySet`，然后打印出所有的键值对。

### 总结

非静态成员类在 Java 中是实现适配器模式的一个有效工具，特别是在需要将外部类的实例视为某个不相关类的实例时。通过使用非静态成员类，可以方便地访问外部类的成员，并实现复杂的逻辑，如集合视图等。这个特性在 Java 的集合框架中得到了广泛应用，使得开发者能够以更灵活的方式处理数据结构。