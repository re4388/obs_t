## 可變參數方法 (Varargs Methods)

可變參數方法，也稱為變長參數方法，允許方法接受數量可變的參數。


在 Java 中，使用 `...` (三個點) 語法來宣告可變參數。這使得方法可以更靈活地處理不同數量的參數，而無需使用重載或集合。

**語法：**

```java
returnType methodName(dataType... parameterName) {
    // 方法體
}
```

* `dataType`: 可變參數的數據類型。
* `parameterName`: 可變參數的名稱。在方法體內，可變參數被視為一個該數據類型的陣列。


**例子：**

```java
public class VarargsExample {

    public static int sum(int... numbers) {
        int sum = 0;
        for (int number : numbers) {
            sum += number;
        }
        return sum;
    }

    public static void printStrings(String... strings) {
        for (String str : strings) {
            System.out.println(str);
        }
    }

    public static void main(String[] args) {
        System.out.println(sum(1, 2, 3)); // 輸出 6
        System.out.println(sum(1, 2, 3, 4, 5)); // 輸出 15
        System.out.println(sum()); // 輸出 0  (沒有參數)

        printStrings("Hello", "World", "!");
        printStrings(); // 沒有輸出 (沒有參數)
    }
}
```

**何時使用可變參數方法：**

* **方法需要接受不確定數量的參數：**  例如，計算任意數量數字的總和，或者格式化任意數量字串。
* **簡化方法重載：**  使用可變參數方法可以避免為不同數量參數編寫多個重載方法。
* **提高程式碼可讀性：**  在某些情況下，使用可變參數方法可以使程式碼更簡潔易懂。


**何時不應該或無法使用可變參數方法：**

* **效能考量：**  每次調用可變參數方法時，都會創建一個新的陣列來儲存參數。如果頻繁調用且參數數量很大，可能會影響效能。 在這種情況下，使用集合作為參數可能更有效率。
* **參數類型不一致：**  可變參數的所有參數必須是相同的數據類型。如果需要接受不同類型的參數，則不能使用可變參數。
* **需要區分零個參數和空陣列：**  如果需要區分方法被調用時沒有提供任何參數，以及提供了一個空陣列的情況，則需要使用重載方法，而不能只使用可變參數。


**可變參數與陣列：**

在方法體內，可變參數被視為一個陣列。您可以像操作普通陣列一樣操作可變參數。


**可變參數與重載：**

如果一個類別中同時存在可變參數方法和具有相同名稱的普通方法，則編譯器會優先選擇普通方法。  如果沒有完全匹配的普通方法，則會選擇可變參數方法。


**總結：**

可變參數方法是 Java 中一個方便的特性，可以簡化程式碼並提高靈活性。  
然而，在使用可變參數方法時，需要考慮效能、參數類型以及零個參數與空陣列的區分等因素。  在某些情況下，使用集合或重載方法可能更合適。
